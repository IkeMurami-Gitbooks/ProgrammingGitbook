# IDE

## VS Code

Устанавливаем расширения:

* C/C++ — ms-vscode.cpptools
* C/C++ Extension Pack — ms-vscode.cpptools-extension-pack

Устанавливаем компилятор для C/C++ — MSVC, GCC или CLang — грубо говоря, в зависимости от ОС (MSVC — Windows, GCC — Unix, CLang — MacOS; конечно, можно исхитриться и настроить любой из них под вашу ОС).

Инструкция для Windows по установке MSVC и пишем первое приложение: [https://code.visualstudio.com/docs/cpp/config-msvc](https://code.visualstudio.com/docs/cpp/config-msvc)

### Создание проекта

Важно, чтобы `code .` запускалась из консоли разработчика msvc (`Developer Command Prompt for VS 2022`), иначе VS Code не сможет запустить `cl.exe` компилятор.

```
mkdir my_cpp_project
cd my_cpp_project
code .
```

Создаем файл и пишем код:

```cpp
#include <iostream>
#include <vector>
#include <string>

using namespace std;

int main()
{
    vector<string> msg {"Hello", "C++", "World", "from", "VS Code", "and the C++ extension!"};
    
    for (const string& word : msg)
    {
        cout << word << " ";
    }
    cout << endl;
}
```

Жмем run и выбираем `cl.exe`.

### tasks.json

После первого запуска VS Code создаст файл `tasks.json`:&#x20;

```json
{
  "version": "2.0.0",
  "tasks": [
    {
      "type": "shell",
      "label": "C/C++: cl.exe build active file",
      "command": "cl.exe",
      "args": [
        "/Zi",
        "/EHsc",
        "/Fe:",
        "${fileDirname}\\${fileBasenameNoExtension}.exe",
        "${file}"
      ],
      "problemMatcher": ["$msCompile"],
      "group": {
        "kind": "build",
        "isDefault": true
      },
      "detail": "Task generated by Debugger."
    }
  ]
}
```

В нем настройки сборки проекта. Подробнее об этом файле [https://code.visualstudio.com/docs/editor/variables-reference](https://code.visualstudio.com/docs/editor/variables-reference).

Пример уже подправленного конфига (нам надо будет создать директории `bin/debug`, `obj/debug` и `source`):

```json
{
    "tasks": [
        {
            "type": "cppbuild",
            "label": "My Debug",
            "command": "cl.exe",
            "args": [
                "/Zi",
                "/EHsc",
                "/nologo",
                "/Fe:",
                "${workspaceFolder}\\bin\\debug\\${fileBasenameNoExtension}.exe",
                "/Fd:",
                "${workspaceFolder}\\obj\\debug\\vc140.pdb",
                "/Fo:",
                "${workspaceFolder}\\obj\\debug\\${fileBasenameNoExtension}.obj",
                "${workspaceFolder}\\source\\*.cpp"
            ],
            "options": {
                "cwd": "${workspaceFolder}"
            },
            "problemMatcher": [
                "$msCompile"
            ],
            "group": {
                "kind": "build",
                "isDefault": true
            },
            "detail": "Собрать и запустить проект"
        }
    ],
    "version": "2.0.0"
}
```
