# Observer / PubSub

Основная статья: [https://medium.com/german-gorelkin/go-observer-bc95f465961b](https://medium.com/german-gorelkin/go-observer-bc95f465961b)

Существует как минимум два способа общения между двумя программными компонентами.

_Компонент 1_ может обратится к _Компонент 2_ для получения каких-то данных или выполнения каких-то операций. В этом случае _Компонент 2_ выполняет работу, когда его об этом просят.

_Компонент 2_ является активным, содержит собственный поток исполнения или каким-то другим способом следит за своим состоянием. _Компонент 2_ может уведомлять _Компонент 1_ о событиях.

Первая модель взаимодействия называется **pull**-моделью, а вторая — **push**-моделью.

**Pull**-модель в рамках одного процесса — это вызов функции или метода. Для клиент-серверной архитектуры — это запрос клиента к серверу. Или запрос одного сервиса к другому.

**Push**-модель в мире структурного программирования реализуется с помощью обратного вызова(_callbacks_). В мире функционального программирования push-модель представлена в виде _реактивной модели_. А в ООП реализуется с помощью паттерна **Observer**.

**Паттерн PubSub(Publisher-Subscriber)** является вариацией **Observer**. Взаимодействие между компонентами происходит через канал связи **Event channel**. _Publisher_ отправляет события в event channel. _Subscriber_ подписывается на нужное события и ждет его поступления в event channel.

Ключевым различием между классическим Observer и PubSub является [_**слабая связность(loose coupling)**_](https://medium.com/german-gorelkin/low-coupling-high-cohesion-d36369fb1be9). Publisher и Subscriber в PubSub не знают о существование друг друга, в отличии от Observer и Subject.

Паттерн PubSub подходит для асинхронного взаимодействия различных приложений в системе. В качестве _event channal_ используют вариации брокером, шин событий и пр(broker, message broker,event bus, …)
